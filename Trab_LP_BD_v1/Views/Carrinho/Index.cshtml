@model List<ProdutosViewModel>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<center><h2>Produtos à venda</h2> </center>

<br />
<div class="fundo-vitrine">
    <img src="~/images/carrinho.png" />
    Há @ViewBag.TotalCarrinho produtos no carrinho.
    <a href="/Carrinho/Visualizar">Visualizar</a>
</div>

<br />
<br />

<div class="w3-main w3-content w3-padding" style="max-width:1200px;margin-top:100px">
    <div class="w3-row-padding w3-padding-16 w3-center" id="food">
        @foreach (var produto in Model)
        {
            <div class="w3-quarter">
                <a href="/Carrinho/Detalhes/?idProduto=@produto.Id">
                    <img class="imagem-vitrine" id="imgPreview" src="data:image/jpeg;base64,@produto.ImageBase64">
                    <br />
                    <br />
                    <p>@produto.Descricao</p>
                    <p>R$ @produto.Preco.ToString("0.00")</p>
                </a>
            </div>
        }
    </div>
    
    <div class="w3-center w3-padding-32">
        <div class="w3-bar">
            <a href="#" class="w3-bar-item w3-button w3-hover-black">«</a>
            <a href="#" class="w3-bar-item w3-black w3-button">1</a>            
            <a href="#" class="w3-bar-item w3-button w3-hover-black">»</a>
        </div>
    </div>

</div>


@section Styles {
    <link href="@Url.Content("~/css/carrinho.css")" rel="stylesheet" type="text/css" />
}


<script>
    function verImagem() {
        var oFReader = new FileReader();
        oFReader.readAsDataURL(document.getElementById("Imagem").files[0]);
        oFReader.onload = function (oFREvent) {
            document.getElementById("imgPreview").src = oFREvent.target.result;
        };
    }
</script>

